<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">

<!-- VIEWPORT & PORTRAIT LOCK -->
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="default">
<meta name="screen-orientation" content="portrait">
<meta name="orientation" content="portrait">
<meta name="format-detection" content="telephone=no">

<title>ðŸ’˜ Valentine Question ðŸ’˜</title>

<style>
/* GENERAL RESET & BODY */
html, body {
  margin: 0;
  padding: 0;
  width: 100%;
  height: 100%;
  overflow: hidden;
  overscroll-behavior: none;
  touch-action: manipulation;
  background: linear-gradient(135deg, #ff9a9e, #fad0c4);
  display: flex;
  justify-content: center;
  align-items: center;
}

/* LOCK PORTRAIT VISUALLY */
@media screen and (orientation: landscape) {
  body {
    transform: rotate(-90deg);
    transform-origin: center;
    width: 100vh;
    height: 100vw;
    overflow: hidden;
  }
}

/* CONTAINER */
.container {
  text-align: center;
  background: white;
  padding: 30px;
  border-radius: 25px;
  width: 90%;
  max-width: 360px;
  box-shadow: 0 15px 30px rgba(0,0,0,0.2);
  z-index: 2;
}

h1 {
  font-size: 1.6em;
  margin-bottom: 15px;
}

p {
  font-size: 1em;
  color: #555;
}

.buttons {
  display: flex;
  justify-content: space-around;
  margin-top: 25px;
}

button {
  padding: 15px 25px;
  font-size: 1em;
  border-radius: 30px;
  border: none;
  cursor: pointer;
  min-width: 110px;
}

/* BUTTON COLORS */
#yesBtn { background: #ff4d6d; color: white; }
#noBtn { background: #ccc; }

/* FLOATING HEARTS */
.heart {
  position: fixed;
  bottom: -20px;
  font-size: 18px;
  animation: floatUp linear infinite;
  opacity: 0.8;
  pointer-events: none;
}
@keyframes floatUp {
  from { transform: translateY(0); opacity: 1; }
  to { transform: translateY(-110vh); opacity: 0; }
}

/* HEARTBEAT */
@keyframes heartbeat {
  0% { transform: scale(1); }
  25% { transform: scale(1.1); }
  50% { transform: scale(1); }
  75% { transform: scale(1.15); }
  100% { transform: scale(1); }
}
.heartbeat { animation: heartbeat 1s infinite; }

/* SHAKE ANIMATION */
@keyframes shake {
  0% { transform: translateX(0); }
  15% { transform: translateX(-6px); }
  30% { transform: translateX(6px); }
  45% { transform: translateX(-4px); }
  60% { transform: translateX(4px); }
  75% { transform: translateX(-2px); }
  100% { transform: translateX(0); }
}
.shake { animation: shake 0.4s ease; }

/* HEART BURST */
.burst {
  position: fixed;
  font-size: 22px;
  animation: burst 0.9s ease-out forwards;
  pointer-events: none;
}
@keyframes burst {
  from { transform: scale(0); opacity: 1; }
  to { transform: scale(2.5) translateY(-80px); opacity: 0; }
}
</style>
</head>

<body>

<div class="container">
  <h1 id="question">Are you mad at me? ðŸ˜Ÿ</h1>
  <p id="message">Please be honestâ€¦</p>

  <div class="buttons">
    <button id="yesBtn">Yes</button>
    <button id="noBtn">No</button>
  </div>
</div>

<script>
// ELEMENTS
const question = document.getElementById("question");
const message = document.getElementById("message");
const yesBtn = document.getElementById("yesBtn");
const noBtn = document.getElementById("noBtn");

let stage = "mad";
let begIndex = 0;
let heartbeatSpeed = 1;

const beggingMessages = [
  "Please forgive me ðŸ˜­",
  "I promise Iâ€™ll do better ðŸ’”",
  "Donâ€™t hate me ðŸ¥º",
  "Iâ€™ll buy you food ðŸ•",
  "Iâ€™ll never do it again ðŸ˜­",
  "PLEASEEEE ðŸ˜­ðŸ’˜"
];

// FLOATING HEARTS
setInterval(() => {
  const heart = document.createElement("div");
  heart.className = "heart";
  heart.textContent = "â¤ï¸";
  heart.style.left = Math.random() * 90 + "vw";
  heart.style.animationDuration = 4 + Math.random() * 3 + "s";
  heart.style.fontSize = 14 + Math.random() * 10 + "px";
  document.body.appendChild(heart);
  setTimeout(() => heart.remove(), 7000);
}, 450);

// YES BUTTON BEGGING + SHAKE + HEARTBEAT
yesBtn.addEventListener("click", () => {
  if(stage === "mad") {
    question.textContent = beggingMessages[begIndex % beggingMessages.length];
    message.textContent = "Say NO to continue ðŸ˜­";

    question.classList.remove("shake");
    void question.offsetWidth; // reset animation
    question.classList.add("shake");

    yesBtn.classList.add("heartbeat");
    yesBtn.style.animationDuration = heartbeatSpeed + "s";

    begIndex++;
  } else {
    heartBurst();
    question.textContent = "YAY!! ðŸ’–ðŸ’–";
    message.textContent = "Happy Valentineâ€™s Day ðŸ’˜";
  }
});

// NO BUTTON = PROCEED TO VALENTINE + FASTER HEARTBEAT
noBtn.addEventListener("click", () => {
  heartbeatSpeed = Math.max(0.3, heartbeatSpeed - 0.1);
  yesBtn.style.animationDuration = heartbeatSpeed + "s";

  stage = "valentine";
  question.textContent = "Will you be my Valentine? ðŸ’˜";
  message.textContent = "";
});

// HEART BURST
function heartBurst() {
  for(let i=0;i<18;i++){
    const burst = document.createElement("div");
    burst.className = "burst";
    burst.textContent = "ðŸ’–";
    burst.style.left = Math.random() * 100 + "vw";
    burst.style.top = Math.random() * 100 + "vh";
    document.body.appendChild(burst);
    setTimeout(()=>burst.remove(),900);
  }
}

// PREVENT DOUBLE-TAP ZOOM ON IOS
document.addEventListener('touchstart', e => {
  if(e.touches.length > 1) e.preventDefault();
}, { passive: false });
</script>

</body>
</html>
